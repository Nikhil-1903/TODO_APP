{% extends "base.html" %}

{% block title %}My Tasks{% endblock %}

{% block content %}
<h2>My Tasks</h2>

<!-- Add Task Form -->
<form method="POST" action="{{ url_for('tasks.add_task') }}">
    {{ form.hidden_tag() }}
    {{ form.title() }}
    {{ form.submit() }}
</form>

<br>

<!-- Task List -->
{% if tasks %}
    <ul>
        {% for task in tasks %}
            <li>
                {{ task.title }} â€”
                <strong>{{ task.status }}</strong>

                {% if task.status != 'Completed' %}
                    <a href="{{ url_for('tasks.complete_task', task_id=task.id) }}">
                        Complete
                    </a>
                {% endif %}

                 <a href="{{ url_for('tasks.edit_task', task_id=task.id) }}">
                    Edit
                </a>

                <a href="{{ url_for('tasks.delete_task', task_id=task.id) }}">
                    Delete
                </a>
                
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No tasks yet. Add one above ðŸ‘†</p>
{% endif %}
{% endblock %}
